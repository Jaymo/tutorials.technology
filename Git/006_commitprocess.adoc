[[gitaddingprocess]]

== Adding to a Git repository via staging and committing

[[git_addtorepository]]

=== Adding changes to a Git repository

(((Adding files to the Git repository)))

If you modify your _working tree_ (see <<workingtree>>) you need to perform two steps to
persist these changes in your local repository. 

You
* add selected changes to the something called the _staging area_ and
* afterwards you commit the changes stored in the _staging area_ to the
repository

This process is depicted in the following graphic.

image::img/committingprocess10.png[Git commit process] 
 
[[git_stagingprocess]]

=== Adding to the staging area

(((Staging process)))

(((Staging area)))

(((Index)))

You need to mark changes in the working tree to be relevant for Git. This process is called _staging_ or
_to add changes to the staging area_.

You add changes in the working tree to the staging area with the
`git add` command. This command stores a snapshot of the specified files
in the staging area.

The `git add` command allows you to incrementally modify files, stage
them, modify and stage them again until you are satisfied with your
changes.

Older versions of Git used the term _index_ instead of staging area.
Staging area is nowadays the preferred term by the Git community. Both
terms mean the same thing.

[[git_commitprocess]]

=== Committing to the repository

(((Commit process)))

After adding the selected files to the staging area, you can _commit_ these files to add
them permanently to the Git repository. _Committing_ creates a new
persistent snapshot (called _commit_ or _commit object_) of the staging
area in the Git repository. A commit object, like all objects in Git, is
immutable.

The _staging area_ keeps track of the snapshots of the files until the
staged changes are committed.

For committing the staged changes you use the `git commit` command.

[[commits]]

=== Committing changes

(((Committing)))

If you commit changes to
your Git repository, you create a new _commit object_ in the Git
repository. See <<commit_object>> for information about the commit object.
