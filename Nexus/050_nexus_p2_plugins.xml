<section id="nexus_p2_plugins">
	<title>P2 Nexus Plugins</title>
	<para>
		With the
		<ulink
			url="http://search.maven.org/#search|ga|1|a%3A%22nexus-p2-bridge-plugin%22%20AND%20l%3A%22bundle%22">Nexus P2 Bridge Plugin</ulink>
		and
		<ulink
			url="http://search.maven.org/#search|ga|1|a%3A%22nexus-p2-repository-plugin%22%20AND%20l%3A%22bundle%22">Nexus P2 Repository Plugin</ulink>
		it is possible to create a proxy repository for p2 update sites.
	</para>
	<section id="nexus_p2_plugins_install">
		<title>Installing p2 Plugins</title>
		<para>
			Download the
			<filename>bundle.zip</filename>
			of
			<ulink
				url="http://search.maven.org/#search|ga|1|a%3A%22nexus-p2-bridge-plugin%22%20AND%20l%3A%22bundle%22">Nexus P2 Bridge Plugin</ulink>
			and
			<ulink
				url="http://search.maven.org/#search|ga|1|a%3A%22nexus-p2-repository-plugin%22%20AND%20l%3A%22bundle%22">Nexus P2 Repository Plugin</ulink>
		</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/mvncentral_p2_repo.png" />
				</imageobject>
			</mediaobject>
		</para>
		<para>
			These two downloaded
			<filename>bundle.zip</filename>
			files, which contain the nexus plugins have to be extracted into the
			<filename>sonatype-work/nexus/plugin-repository</filename>
			folder of the Nexus installation.
		</para>
		<para>
			The nexus server has to be restarted to install the plugins.
			<code>./bin/nexus restart</code>
		</para>
		<para>
			To validate that these plugins are properly installed the plugin
			console can be used.
		</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/plugin_console_with_p2_plugins.png" />
				</imageobject>
			</mediaobject>
		</para>
	</section>
	<section>
		<title>Creating a proxy for p2 update sites</title>
		<para>
			In the repositories tab a
			<guilabel>Proxy Repository</guilabel>
			can be created.
		</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/create_proxy_repo.png" />
				</imageobject>
			</mediaobject>
		</para>
		<para>
			A
			<guilabel>Repository ID</guilabel>
			and a
			<guilabel>Repository Name</guilabel>
			has to be specifed. (1)
		</para>
		<para>
			The previously installed p2 plugins offer additional providers like
			<guilabel>p2</guilabel>
			. (2)
		</para>
		<para>
			The
			<guilabel>Remote Storage Location</guilabel>
			is the p2 update site url, e.g.,
			http://download.eclipse.org/eclipse/updates/4.6milestones.
		</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/new_p2_proxy_repo.png" />
				</imageobject>
			</mediaobject>
		</para>
		<para>Finally this must be saved and then the new proxy will be
			created.</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/final_p2_proxy_repo.png" />
				</imageobject>
			</mediaobject>
		</para>
		<para>
			After settings this up, a target definition can make use of this
			proxy, but using the given URL:
			http://localhost:8081/nexus/content/repositories/Eclipse-Neon-Milestones/
		</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="./images/nexus_updatesite_consumer.png" />
				</imageobject>
			</mediaobject>
		</para>
	</section>
</section>